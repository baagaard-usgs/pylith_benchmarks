# ----------------------------------------------------------------------
# Generate geometry
# ----------------------------------------------------------------------
playback 'slice_geometry.jou'

# ----------------------------------------------------------------------
# Set discretization size
# ----------------------------------------------------------------------
surface all size 1.0

# ----------------------------------------------------------------------
# Generate the mesh
# ----------------------------------------------------------------------
surface all scheme submap
mesh surface all

# ----------------------------------------------------------------------
# Generate blocks and nodesets
# ----------------------------------------------------------------------
block 1 surface 2 3
block 1 name "elastic"

# ----------------------------------------------------------------------
# Create nodeset for fault
# ----------------------------------------------------------------------
group "fault" add node in curve 5
nodeset 10 group fault
nodeset 10 name "fault"

# ----------------------------------------------------------------------
# Create nodeset for BC
# ----------------------------------------------------------------------
group "surf_east" add node in curve 3
nodeset 21 group surf_east
nodeset 21 name "surf_east"

group "surf_west" add node in curve 1
nodeset 22 group surf_west
nodeset 22 name "surf_west"

group "surf_north" add node in curve 7
group "surf_north" add node in curve 8
group "surf_north" remove node in fault
nodeset 23 group surf_north
nodeset 23 name "surf_north"

group "surf_south" add node in curve 6
group "surf_south" add node in curve 9
group "surf_south" remove node in fault
nodeset 24 group surf_south
nodeset 24 name "surf_south"

# ----------------------------------------------------------------------
# Export exodus file
# ----------------------------------------------------------------------
export mesh "slice_quad4_normalized.exo" dimension 2 overwrite
volume all scale 1.0e+3
export mesh "slice_quad4.exo" dimension 2 overwrite
