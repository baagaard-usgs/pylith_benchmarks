# ----------------------------------------------------------------------
# Reset geometry.
# ----------------------------------------------------------------------
reset

# ----------------------------------------------------------------------
# Set basic geometry.
# ----------------------------------------------------------------------
# Block is 128.0 km x 128.0 km
# -64.0 km <= x <= 64.0 km
# -64.0 km <= y <= 64.0 km
#
#{blockWidth=128000}
#{blockLength=128000}
#{blockHeight=32000}
#
# Main fault is 28.0 km long
#
#{mainFaultLength=28000}
#
# Branch fault is 12.0 km long and intersects main fault at y=+2.0 km
# at angle of 30.0 degrees.
#
#{branchAngle=30.0}
#{branchFaultLength=12000}
#{branchOffsetY=2000}

# ----------------------------------------------------------------------
# Create and position block.
# ----------------------------------------------------------------------
# We create the 2-D mesh by extracting the mid-surface from a 3-D mesh.
#
brick x {blockWidth} y {blockLength} z {blockHeight}
create midsurface volume 1 surface 1 2
delete volume 1

# ----------------------------------------------------------------------
# Create interface surfaces
# ----------------------------------------------------------------------

# Create Main Fault 
split surface 7 across location position 0 {-blockLength} 0 location position 0 {+blockLength} 0
curve 17 name "fault_surface_main"

# Create Branch Fault 
split surface 9 across location position 0 {branchOffsetY} 0 location position {blockLength*tand(branchAngle)} {blockLength} 0
curve 22 name "fault_surface_branch"

# ----------------------------------------------------------------------
# Imprint all volumes, merging surfaces
# ----------------------------------------------------------------------
imprint all
merge all
