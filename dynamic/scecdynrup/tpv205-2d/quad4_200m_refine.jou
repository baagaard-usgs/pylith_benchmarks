# ----------------------------------------------------------------------
# Create quad4 mesh at 200m resolution.
# ----------------------------------------------------------------------

# ----------------------------------------------------------------------
# Generate geometry
# ----------------------------------------------------------------------
playback 'geometry_refine.jou'

# ----------------------------------------------------------------------
# Set discretization size
# ----------------------------------------------------------------------
surface all size 600

# ----------------------------------------------------------------------
# Generate the mesh
# ----------------------------------------------------------------------
mesh surface all

# ----------------------------------------------------------------------
# Setup boundary conditions.
# ----------------------------------------------------------------------
playback 'createbc.jou'

# ----------------------------------------------------------------------
# Refine elements within 1/2 of rupture width
# ----------------------------------------------------------------------
group "Refined"" add node in surface 8
group "Refined"" add node in surface 9
group "Refined" copy scale 0.5
#nodeset 21 group Refined
#nodeset 21 name "Refined"

refine node Refined numsplit=3

# ----------------------------------------------------------------------
# Export exodus file
# ----------------------------------------------------------------------
export mesh "quad4_200m_refine.exo" dimension 2 overwrite


