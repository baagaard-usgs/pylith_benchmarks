# ----------------------------------------------------------------------
# Create hex8 mesh at 200m resolution.
# ----------------------------------------------------------------------

# ----------------------------------------------------------------------
# Generate geometry
# ----------------------------------------------------------------------
playback 'geometry_refine.jou'

# ----------------------------------------------------------------------
# Set discretization size
# ----------------------------------------------------------------------
volume all size 800

# ----------------------------------------------------------------------
# Generate the mesh
# ----------------------------------------------------------------------
mesh volume all

# ----------------------------------------------------------------------
# Refine elements within 1/2 of rupture width
# ----------------------------------------------------------------------
playback 'refinecells_hex8.jou'

# ----------------------------------------------------------------------
# Smooth mesh to improve quality
# ----------------------------------------------------------------------
volume all smooth scheme condition number beta 1.3 cpu 10
smooth volume all

# ----------------------------------------------------------------------
# Setup boundary conditions.
# ----------------------------------------------------------------------
playback 'createbc.jou'

# ----------------------------------------------------------------------
# Export exodus file
# ----------------------------------------------------------------------
export mesh "hex8_200m_refine.exo" dimension 3 overwrite


